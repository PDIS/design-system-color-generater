<!DOCTYPE html>
<html>
  <head>
    <title>PDIS Design System Color Generator</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <style>
      .col {
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        font-weight: 900;
        padding: 1rem 0.25rem;
      }
      table {
        table-layout: fixed;
      }
      td {
        text-align: center;
        font-weight: 900;
        padding: 1rem 0.25rem !important;
      }
      h1 {
        border-bottom: 2px solid gray;
        font-weight: bold;
        padding-bottom: 0.5rem;
        margin-bottom: 1rem;
      }
      h2,
      h3 {
        display: inline-block !important;
        margin-bottom: 1rem;
        margin-top: 2rem;
      }
      input {
        width: 3rem !important;
        display: inline-block !important;
      }
    </style>
  </head>
  <body>
    <div class="container my-5">
      <h1>PDIS Design System Color Generator</h1>
      <div class="row">
        <div class="col-3">
          <input
            type="color"
            class="form-control form-control-color"
            id="brand"
            value="#2c5ab4"
            onchange="update(this)"
          />
          <p class="fs-3 d-inline">Brand</p>
        </div>
        <div class="col-3">
          <input
            type="color"
            class="form-control form-control-color"
            id="accent"
            value="#705D00"
            onchange="update(this)"
          />
          <p class="fs-3 d-inline">Accent</p>
        </div>
        <div class="col-3">
          <input
            type="color"
            class="form-control form-control-color"
            id="information"
            value="#006687"
            onchange="update(this)"
          />
          <p class="fs-3 d-inline">Information</p>
        </div>
        <div class="col-3">
          <input
            type="color"
            class="form-control form-control-color"
            id="warning"
            value="#A53D00"
            onchange="update(this)"
          />
          <p class="fs-3 d-inline">Warning</p>
        </div>
      </div>
      <div class="light">
        <h2>Color Schemes</h2>

        <table class="table table-borderless">
          <tr class="brand">
            <td class="tone40 text-tone100">Brand</td>
            <td class="tone30 text-tone100">Brand Strong</td>
            <td class="tone100 text-tone40">On Brand</td>
            <td class="tone90 text-tone10">Brand Flat</td>
            <td class="tone80 text-tone10">Brand Flat Strong</td>
            <td class="tone10 text-tone90">On Brand Flat</td>
          </tr>
          <tr class="accent">
            <td class="tone40 text-tone100">Accent</td>
            <td class="tone30 text-tone100">Accent Strong</td>
            <td class="tone100 text-tone40">On Accent</td>
            <td class="tone90 text-tone10">Accent Flat</td>
            <td class="tone80 text-tone10">Accent Flat Strong</td>
            <td class="tone10 text-tone90">On Accent Flat</td>
          </tr>
          <tr class="positive">
            <td class="tone40 text-tone100">Positive</td>
            <td class="tone30 text-tone100">Positive Strong</td>
            <td class="tone100 text-tone40">On Positive</td>
            <td class="tone90 text-tone10">Positive Flat</td>
            <td class="tone80 text-tone10">Positive Flat Strong</td>
            <td class="tone10 text-tone90">On Positive Flat</td>
          </tr>
          <tr class="negative">
            <td class="tone40 text-tone100">Negative</td>
            <td class="tone30 text-tone100">Negative Strong</td>
            <td class="tone100 text-tone40">On Negative</td>
            <td class="tone90 text-tone10">Negative Flat</td>
            <td class="tone80 text-tone10">Negative Flat Strong</td>
            <td class="tone10 text-tone90">On Negative Flat</td>
          </tr>
          <tr class="information">
            <td class="tone40 text-tone100">Information</td>
            <td class="tone30 text-tone100">Information Strong</td>
            <td class="tone100 text-tone40">On Information</td>
            <td class="tone90 text-tone10">Information Flat</td>
            <td class="tone80 text-tone10">Information Flat Strong</td>
            <td class="tone10 text-tone90">On Information Flat</td>
          </tr>
          <tr class="warning">
            <td class="tone40 text-tone100">Warning</td>
            <td class="tone30 text-tone100">Warning Strong</td>
            <td class="tone100 text-tone40">On Warning</td>
            <td class="tone90 text-tone10">Warning Flat</td>
            <td class="tone80 text-tone10">Warning Flat Strong</td>
            <td class="tone10 text-tone90">On Warning Flat</td>
          </tr>
          <tr class="netural">
            <td class="tone99 text-tone10">Background</td>
            <td class="tone10 text-tone99">On Background</td>
          </tr>
          <tr class="netural">
            <td class="tone99 text-tone10">Surface</td>
            <td class="surface1 text-tone10">Surface at +1</td>
            <td class="surface2 text-tone10">Surface at +2</td>
            <td class="surface3 text-tone10">Surface at +3</td>
            <td class="surface4 text-tone10">Surface at +4</td>
            <td class="surface5 text-tone10">Surface at +5</td>
            <td class="tone10 text-tone99">On Surface</td>
          </tr>
          <tr class="neutralvariant">
            <td class="tone90 text-tone30">Surface Variant</td>
            <td class="tone30 text-tone90">On Surface Variant</td>
            <td class="tone50 text-tone90">Outline</td>
          </tr>
        </table>
      </div>
      <div>
        <h3>CSS</h3>
        <pre>
:root {
  --brand: <span class="brand tone40"></span>;
  --brand-strong: <span class="brand tone30"></span>;
  --on-brand: <span class="brand tone100"></span>;
  --brand-flat: <span class="brand tone90"></span>;
  --brand-flat-strong: <span class="brand tone80"></span>;
  --on-brand-flat: <span class="brand tone10"></span>;
  --accent: <span class="accent tone40"></span>;
  --accent-strong: <span class="accent tone30"></span>;
  --on-accent: <span class="accent tone100"></span>;
  --accent-flat: <span class="accent tone90"></span>;
  --accent-flat-strong: <span class="accent tone80"></span>;
  --on-accent-flat: <span class="accent tone10"></span>;
  --positive: <span class="positive tone40"></span>;
  --positive-strong: <span class="positive tone30"></span>;
  --on-positive: <span class="positive tone100"></span>;
  --positive-flat: <span class="positive tone90"></span>;
  --positive-flat-strong: <span class="positive tone80"></span>;
  --on-positive-flat: <span class="positive tone10"></span>;
  --negative: <span class="negative tone40"></span>;
  --negative-strong: <span class="negative tone30"></span>;
  --on-negative: <span class="negative tone100"></span>;
  --negative-flat: <span class="negative tone90"></span>;
  --negative-flat-strong: <span class="negative tone80"></span>;
  --on-negative-flat: <span class="negative tone10"></span>;
  --information: <span class="information tone40"></span>;
  --information-strong: <span class="information tone30"></span>;
  --on-information: <span class="information tone100"></span>;
  --information-flat: <span class="information tone90"></span>;
  --information-flat-strong: <span class="information tone80"></span>;
  --on-information-flat: <span class="information tone10"></span>;
  --warning: <span class="warning tone40"></span>;
  --warning-strong: <span class="warning tone30"></span>;
  --on-warning: <span class="warning tone100"></span>;
  --warning-flat: <span class="warning tone90"></span>;
  --warning-flat-strong: <span class="warning tone80"></span>;
  --on-warning-flat: <span class="warning tone10"></span>;
  --surface: <span class="netural tone99"></span>;
  --surface-1: <span class="netural surface1"></span>;
  --surface-2: <span class="netural surface2"></span>;
  --surface-3: <span class="netural surface3"></span>;
  --surface-4: <span class="netural surface4"></span>;
  --surface-5: <span class="netural surface5"></span>;
  --on-surface: <span class="netural tone10"></span>;
  --surface-variant: <span class="neutralvariant tone90"></span>;
  --on-surface-variant: <span class="neutralvariant tone30"></span>;
  --outline: <span class="neutralvariant tone50"></span>;
  --background: <span class="netural tone99"></span>;
  --on-background: <span class="netural tone10"></span>;
}
</pre>
      </div>
      <div class="tonal-palettes">
        <h3>Brand</h3>
        <div class="row brand">
          <div class="col tone0 text-white">0</div>
          <div class="col tone10 text-white">10</div>
          <div class="col tone20 text-white">20</div>
          <div class="col tone25 text-white">25</div>
          <div class="col tone30 text-white">30</div>
          <div class="col tone35 text-white">35</div>
          <div class="col tone40 text-white">40</div>
          <div class="col tone50 text-white">50</div>
          <div class="col tone60">60</div>
          <div class="col tone70">70</div>
          <div class="col tone80">80</div>
          <div class="col tone90">90</div>
          <div class="col tone95">95</div>
          <div class="col tone98">98</div>
          <div class="col tone99">99</div>
          <div class="col tone100">100</div>
        </div>
        <h3>Accent</h3>
        <div class="row accent">
          <div class="col tone0 text-white">0</div>
          <div class="col tone10 text-white">10</div>
          <div class="col tone20 text-white">20</div>
          <div class="col tone25 text-white">25</div>
          <div class="col tone30 text-white">30</div>
          <div class="col tone35 text-white">35</div>
          <div class="col tone40 text-white">40</div>
          <div class="col tone50 text-white">50</div>
          <div class="col tone60">60</div>
          <div class="col tone70">70</div>
          <div class="col tone80">80</div>
          <div class="col tone90">90</div>
          <div class="col tone95">95</div>
          <div class="col tone98">98</div>
          <div class="col tone99">99</div>
          <div class="col tone100">100</div>
        </div>
        <h3>Positive</h3>
        <div class="row positive">
          <div class="col tone0 text-white">0</div>
          <div class="col tone10 text-white">10</div>
          <div class="col tone20 text-white">20</div>
          <div class="col tone25 text-white">25</div>
          <div class="col tone30 text-white">30</div>
          <div class="col tone35 text-white">35</div>
          <div class="col tone40 text-white">40</div>
          <div class="col tone50 text-white">50</div>
          <div class="col tone60">60</div>
          <div class="col tone70">70</div>
          <div class="col tone80">80</div>
          <div class="col tone90">90</div>
          <div class="col tone95">95</div>
          <div class="col tone98">98</div>
          <div class="col tone99">99</div>
          <div class="col tone100">100</div>
        </div>
        <h3>Negative</h3>
        <div class="row negative">
          <div class="col tone0 text-white">0</div>
          <div class="col tone10 text-white">10</div>
          <div class="col tone20 text-white">20</div>
          <div class="col tone25 text-white">25</div>
          <div class="col tone30 text-white">30</div>
          <div class="col tone35 text-white">35</div>
          <div class="col tone40 text-white">40</div>
          <div class="col tone50 text-white">50</div>
          <div class="col tone60">60</div>
          <div class="col tone70">70</div>
          <div class="col tone80">80</div>
          <div class="col tone90">90</div>
          <div class="col tone95">95</div>
          <div class="col tone98">98</div>
          <div class="col tone99">99</div>
          <div class="col tone100">100</div>
        </div>
        <h3>Information</h3>
        <div class="row information">
          <div class="col tone0 text-white">0</div>
          <div class="col tone10 text-white">10</div>
          <div class="col tone20 text-white">20</div>
          <div class="col tone25 text-white">25</div>
          <div class="col tone30 text-white">30</div>
          <div class="col tone35 text-white">35</div>
          <div class="col tone40 text-white">40</div>
          <div class="col tone50 text-white">50</div>
          <div class="col tone60">60</div>
          <div class="col tone70">70</div>
          <div class="col tone80">80</div>
          <div class="col tone90">90</div>
          <div class="col tone95">95</div>
          <div class="col tone98">98</div>
          <div class="col tone99">99</div>
          <div class="col tone100">100</div>
        </div>
        <h3>Warning</h3>
        <div class="row warning">
          <div class="col tone0 text-white">0</div>
          <div class="col tone10 text-white">10</div>
          <div class="col tone20 text-white">20</div>
          <div class="col tone25 text-white">25</div>
          <div class="col tone30 text-white">30</div>
          <div class="col tone35 text-white">35</div>
          <div class="col tone40 text-white">40</div>
          <div class="col tone50 text-white">50</div>
          <div class="col tone60">60</div>
          <div class="col tone70">70</div>
          <div class="col tone80">80</div>
          <div class="col tone90">90</div>
          <div class="col tone95">95</div>
          <div class="col tone98">98</div>
          <div class="col tone99">99</div>
          <div class="col tone100">100</div>
        </div>
        <h3>Netural</h3>
        <div class="row netural">
          <div class="col tone0 text-white">0</div>
          <div class="col tone10 text-white">10</div>
          <div class="col tone20 text-white">20</div>
          <div class="col tone25 text-white">25</div>
          <div class="col tone30 text-white">30</div>
          <div class="col tone35 text-white">35</div>
          <div class="col tone40 text-white">40</div>
          <div class="col tone50 text-white">50</div>
          <div class="col tone60">60</div>
          <div class="col tone70">70</div>
          <div class="col tone80">80</div>
          <div class="col tone90">90</div>
          <div class="col tone95">95</div>
          <div class="col tone98">98</div>
          <div class="col tone99">99</div>
          <div class="col tone100">100</div>
        </div>
        <h3>Neutral-Variant</h3>
        <div class="row neutralvariant">
          <div class="col tone0 text-white">0</div>
          <div class="col tone10 text-white">10</div>
          <div class="col tone20 text-white">20</div>
          <div class="col tone25 text-white">25</div>
          <div class="col tone30 text-white">30</div>
          <div class="col tone35 text-white">35</div>
          <div class="col tone40 text-white">40</div>
          <div class="col tone50 text-white">50</div>
          <div class="col tone60">60</div>
          <div class="col tone70">70</div>
          <div class="col tone80">80</div>
          <div class="col tone90">90</div>
          <div class="col tone95">95</div>
          <div class="col tone98">98</div>
          <div class="col tone99">99</div>
          <div class="col tone100">100</div>
        </div>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="dist/js/material-color-utilities-webpack.js"></script>
    <script>
      update();
      function update(e) {
        const brand = document.getElementById("brand").value;
        const accent = document.getElementById("accent").value;
        const information = document.getElementById("information").value;
        const warning = document.getElementById("warning").value;
        const result = themeFromSourceColor(
          brand,
          accent,
          information,
          warning
        );
        Object.entries(result.tonalPalettes).forEach(([color_name, tunes]) => {
          Object.entries(tunes).forEach(([tune, color_hex]) => {
            $(`.${color_name} .${tune}`).css("background-color", color_hex);
            $(`.${color_name}.${tune}`).text(color_hex);
          });
          Object.entries(tunes).forEach(([tune, color_hex]) => {
            $(`.${color_name} .text-${tune}`).css("color", color_hex);
          });
        });
        const surface = result.tonalPalettes.netural.tone99;
        const mask = result.tonalPalettes.brand.tone40;
        $("td.surface1").css("background-color", colorMix(surface, mask, 0.05));
        $("td.surface2").css("background-color", colorMix(surface, mask, 0.08));
        $("td.surface3").css("background-color", colorMix(surface, mask, 0.11));
        $("td.surface4").css("background-color", colorMix(surface, mask, 0.12));
        $("td.surface5").css("background-color", colorMix(surface, mask, 0.14));
        $(".netural.surface1").text(colorMix(surface, mask, 0.05));
        $(".netural.surface2").text(colorMix(surface, mask, 0.08));
        $(".netural.surface3").text(colorMix(surface, mask, 0.11));
        $(".netural.surface4").text(colorMix(surface, mask, 0.12));
        $(".netural.surface5").text(colorMix(surface, mask, 0.14));
      }

      function colorMix(bg, mask, optical) {
        const alpha = 1 - optical;
        bg = hexToRGB(bg);
        mask = hexToRGB(mask);
        const red = Math.round(
          (optical * (mask.red / 255) + alpha * (bg.red / 255)) * 255
        );
        const green = Math.round(
          (optical * (mask.green / 255) + alpha * (bg.green / 255)) * 255
        );
        const blue = Math.round(
          (optical * (mask.blue / 255) + alpha * (bg.blue / 255)) * 255
        );
        return rgbToHex(red, green, blue);
      }

      function hexToRGB(hex) {
        return {
          red: parseInt(hex[1] + hex[2], 16),
          green: parseInt(hex[3] + hex[4], 16),
          blue: parseInt(hex[5] + hex[6], 16),
        };
      }
      function rgbToHex(r, g, b) {
        return (
          "#" + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1)
        );
      }
    </script>
  </body>
</html>
